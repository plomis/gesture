{"version":3,"sources":["../node_modules/add-dom-event-listener/lib/EventBaseObject.js","../node_modules/object-assign/index.js","../node_modules/add-dom-event-listener/lib/EventObject.js","../node_modules/add-dom-event-listener/lib/index.js","../node_modules/whatenvis/es/index.js","utils.js","options.js","index.js","example.js"],"names":["getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","module","exports","target","source","from","symbols","to","s","arguments","length","key","call","detect","userAgent","regexps","reduce","version","regexp","matched","match","object","propertyName","landscape","screen","orientation","window","type","includes","innerHeight","innerWidth","walkOnChangeOrientationList","changeOrientationList","newOrientation","l","handleOrientation","resetCache","previousWhatenvis","whatenvis","navigator","toLowerCase","is","android","macos","windows","ios","ipad","iphone","windowsPhone","androidPhone","kindle","ie","edge","firefox","opera","chrome","chromeMobile","safari","wechat","alipay","adm","admTablet","androidTablet","windowsTablet","phone","tablet","safariMobile","iosWechat","androidWechat","iosAlipay","androidAlipay","pc","portrait","onChangeOrientation","cb","push","orientationEvent","addEventListener","noConflict","lastTime","vendors","raf","requestAnimationFrame","caf","cancelAnimationFrame","x","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","getOffset","node","box","getBoundingClientRect","docElem","document","documentElement","left","pageXOffset","scrollLeft","clientLeft","body","top","pageYOffset","scrollTop","clientTop","DEFAULT_OPTIONS","arraySize","sideLength","onStateChange","onChange","onEnd","circleRadius","pointRadius","lineWidth","stateColors","normal","selected","checking","success","error","Gesture","el","options","wrapper","querySelector","console","warn","_init","mouseDownEvent","mouseMoveEvent","mouseUpEvent","touchCancel","touchEnd","touchMove","touchStart","state","devicePixelRatio","hitPointId","totalPoints","hitPoints","touchPoint","_initCanvas","_initKey","_draw","_initMouseEvent","canvas","createElement","width","height","style","backgroundColor","context","getContext","appendChild","count","r","j","obj","y","index","row","col","_clearCanvas","_drawLine","point","isHited","_drawKey","ctx","points","color","strokeStyle","beginPath","moveTo","lineTo","stroke","havePoint","fillStyle","arc","PI","closePath","fill","clearRect","env","downEvent","_handleTouchStart","touches","clientX","pageX","clientY","pageY","moveEvent","_handleTouchMove","upEvent","_handleTouchCancel","remove","event","stopPropagation","preventDefault","_handleHitPoint","_handleHitOver","touch","_updateKeyboard","_updateKey","_updateLine","hitPoint","_findHitPoint","lastPoint","nearPoints","_findNearPoints","crossoverPoints","_findCrossover","_addHitPoint","find","filter","abs","nearCenters","radius","nearestCenter","circleCenter","centerLast","distance","s1","s2","s3","h2","sqrt","changeState","v","reset","g","getElementById","log"],"mappings":"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","file":"example.70973f87.js","sourceRoot":"../src","sourcesContent":["/**\n * @ignore\n * base event object for custom and dom event.\n * @author yiminghe@gmail.com\n */\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction returnFalse() {\n  return false;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction EventBaseObject() {\n  this.timeStamp = Date.now();\n  this.target = undefined;\n  this.currentTarget = undefined;\n}\n\nEventBaseObject.prototype = {\n  isEventObject: 1,\n\n  constructor: EventBaseObject,\n\n  isDefaultPrevented: returnFalse,\n\n  isPropagationStopped: returnFalse,\n\n  isImmediatePropagationStopped: returnFalse,\n\n  preventDefault: function preventDefault() {\n    this.isDefaultPrevented = returnTrue;\n  },\n\n  stopPropagation: function stopPropagation() {\n    this.isPropagationStopped = returnTrue;\n  },\n\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    this.isImmediatePropagationStopped = returnTrue;\n    // fixed 1.2\n    // call stopPropagation implicitly\n    this.stopPropagation();\n  },\n\n  halt: function halt(immediate) {\n    if (immediate) {\n      this.stopImmediatePropagation();\n    } else {\n      this.stopPropagation();\n    }\n    this.preventDefault();\n  }\n};\n\nexports[\"default\"] = EventBaseObject;\nmodule.exports = exports[\"default\"];","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * @ignore\n * event object for dom\n * @author yiminghe@gmail.com\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _EventBaseObject = require('./EventBaseObject');\n\nvar _EventBaseObject2 = _interopRequireDefault(_EventBaseObject);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar TRUE = true;\nvar FALSE = false;\nvar commonProps = ['altKey', 'bubbles', 'cancelable', 'ctrlKey', 'currentTarget', 'eventPhase', 'metaKey', 'shiftKey', 'target', 'timeStamp', 'view', 'type'];\n\nfunction isNullOrUndefined(w) {\n  return w === null || w === undefined;\n}\n\nvar eventNormalizers = [{\n  reg: /^key/,\n  props: ['char', 'charCode', 'key', 'keyCode', 'which'],\n  fix: function fix(event, nativeEvent) {\n    if (isNullOrUndefined(event.which)) {\n      event.which = !isNullOrUndefined(nativeEvent.charCode) ? nativeEvent.charCode : nativeEvent.keyCode;\n    }\n\n    // add metaKey to non-Mac browsers (use ctrl for PC 's and Meta for Macs)\n    if (event.metaKey === undefined) {\n      event.metaKey = event.ctrlKey;\n    }\n  }\n}, {\n  reg: /^touch/,\n  props: ['touches', 'changedTouches', 'targetTouches']\n}, {\n  reg: /^hashchange$/,\n  props: ['newURL', 'oldURL']\n}, {\n  reg: /^gesturechange$/i,\n  props: ['rotation', 'scale']\n}, {\n  reg: /^(mousewheel|DOMMouseScroll)$/,\n  props: [],\n  fix: function fix(event, nativeEvent) {\n    var deltaX = undefined;\n    var deltaY = undefined;\n    var delta = undefined;\n    var wheelDelta = nativeEvent.wheelDelta;\n    var axis = nativeEvent.axis;\n    var wheelDeltaY = nativeEvent.wheelDeltaY;\n    var wheelDeltaX = nativeEvent.wheelDeltaX;\n    var detail = nativeEvent.detail;\n\n    // ie/webkit\n    if (wheelDelta) {\n      delta = wheelDelta / 120;\n    }\n\n    // gecko\n    if (detail) {\n      // press control e.detail == 1 else e.detail == 3\n      delta = 0 - (detail % 3 === 0 ? detail / 3 : detail);\n    }\n\n    // Gecko\n    if (axis !== undefined) {\n      if (axis === event.HORIZONTAL_AXIS) {\n        deltaY = 0;\n        deltaX = 0 - delta;\n      } else if (axis === event.VERTICAL_AXIS) {\n        deltaX = 0;\n        deltaY = delta;\n      }\n    }\n\n    // Webkit\n    if (wheelDeltaY !== undefined) {\n      deltaY = wheelDeltaY / 120;\n    }\n    if (wheelDeltaX !== undefined) {\n      deltaX = -1 * wheelDeltaX / 120;\n    }\n\n    // 默认 deltaY (ie)\n    if (!deltaX && !deltaY) {\n      deltaY = delta;\n    }\n\n    if (deltaX !== undefined) {\n      /**\n       * deltaX of mousewheel event\n       * @property deltaX\n       * @member Event.DomEvent.Object\n       */\n      event.deltaX = deltaX;\n    }\n\n    if (deltaY !== undefined) {\n      /**\n       * deltaY of mousewheel event\n       * @property deltaY\n       * @member Event.DomEvent.Object\n       */\n      event.deltaY = deltaY;\n    }\n\n    if (delta !== undefined) {\n      /**\n       * delta of mousewheel event\n       * @property delta\n       * @member Event.DomEvent.Object\n       */\n      event.delta = delta;\n    }\n  }\n}, {\n  reg: /^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,\n  props: ['buttons', 'clientX', 'clientY', 'button', 'offsetX', 'relatedTarget', 'which', 'fromElement', 'toElement', 'offsetY', 'pageX', 'pageY', 'screenX', 'screenY'],\n  fix: function fix(event, nativeEvent) {\n    var eventDoc = undefined;\n    var doc = undefined;\n    var body = undefined;\n    var target = event.target;\n    var button = nativeEvent.button;\n\n    // Calculate pageX/Y if missing and clientX/Y available\n    if (target && isNullOrUndefined(event.pageX) && !isNullOrUndefined(nativeEvent.clientX)) {\n      eventDoc = target.ownerDocument || document;\n      doc = eventDoc.documentElement;\n      body = eventDoc.body;\n      event.pageX = nativeEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = nativeEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    }\n\n    // which for click: 1 === left; 2 === middle; 3 === right\n    // do not use button\n    if (!event.which && button !== undefined) {\n      if (button & 1) {\n        event.which = 1;\n      } else if (button & 2) {\n        event.which = 3;\n      } else if (button & 4) {\n        event.which = 2;\n      } else {\n        event.which = 0;\n      }\n    }\n\n    // add relatedTarget, if necessary\n    if (!event.relatedTarget && event.fromElement) {\n      event.relatedTarget = event.fromElement === target ? event.toElement : event.fromElement;\n    }\n\n    return event;\n  }\n}];\n\nfunction retTrue() {\n  return TRUE;\n}\n\nfunction retFalse() {\n  return FALSE;\n}\n\nfunction DomEventObject(nativeEvent) {\n  var type = nativeEvent.type;\n\n  var isNative = typeof nativeEvent.stopPropagation === 'function' || typeof nativeEvent.cancelBubble === 'boolean';\n\n  _EventBaseObject2['default'].call(this);\n\n  this.nativeEvent = nativeEvent;\n\n  // in case dom event has been mark as default prevented by lower dom node\n  var isDefaultPrevented = retFalse;\n  if ('defaultPrevented' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.defaultPrevented ? retTrue : retFalse;\n  } else if ('getPreventDefault' in nativeEvent) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=691151\n    isDefaultPrevented = nativeEvent.getPreventDefault() ? retTrue : retFalse;\n  } else if ('returnValue' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.returnValue === FALSE ? retTrue : retFalse;\n  }\n\n  this.isDefaultPrevented = isDefaultPrevented;\n\n  var fixFns = [];\n  var fixFn = undefined;\n  var l = undefined;\n  var prop = undefined;\n  var props = commonProps.concat();\n\n  eventNormalizers.forEach(function (normalizer) {\n    if (type.match(normalizer.reg)) {\n      props = props.concat(normalizer.props);\n      if (normalizer.fix) {\n        fixFns.push(normalizer.fix);\n      }\n    }\n  });\n\n  l = props.length;\n\n  // clone properties of the original event object\n  while (l) {\n    prop = props[--l];\n    this[prop] = nativeEvent[prop];\n  }\n\n  // fix target property, if necessary\n  if (!this.target && isNative) {\n    this.target = nativeEvent.srcElement || document; // srcElement might not be defined either\n  }\n\n  // check if target is a text node (safari)\n  if (this.target && this.target.nodeType === 3) {\n    this.target = this.target.parentNode;\n  }\n\n  l = fixFns.length;\n\n  while (l) {\n    fixFn = fixFns[--l];\n    fixFn(this, nativeEvent);\n  }\n\n  this.timeStamp = nativeEvent.timeStamp || Date.now();\n}\n\nvar EventBaseObjectProto = _EventBaseObject2['default'].prototype;\n\n(0, _objectAssign2['default'])(DomEventObject.prototype, EventBaseObjectProto, {\n  constructor: DomEventObject,\n\n  preventDefault: function preventDefault() {\n    var e = this.nativeEvent;\n\n    // if preventDefault exists run it on the original event\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      // otherwise set the returnValue property of the original event to FALSE (IE)\n      e.returnValue = FALSE;\n    }\n\n    EventBaseObjectProto.preventDefault.call(this);\n  },\n\n  stopPropagation: function stopPropagation() {\n    var e = this.nativeEvent;\n\n    // if stopPropagation exists run it on the original event\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      // otherwise set the cancelBubble property of the original event to TRUE (IE)\n      e.cancelBubble = TRUE;\n    }\n\n    EventBaseObjectProto.stopPropagation.call(this);\n  }\n});\n\nexports['default'] = DomEventObject;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = addEventListener;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _EventObject = require('./EventObject');\n\nvar _EventObject2 = _interopRequireDefault(_EventObject);\n\nfunction addEventListener(target, eventType, callback, option) {\n  function wrapCallback(e) {\n    var ne = new _EventObject2['default'](e);\n    callback.call(target, ne);\n  }\n\n  if (target.addEventListener) {\n    var _ret = (function () {\n      var useCapture = false;\n      if (typeof option === 'object') {\n        useCapture = option.capture || false;\n      } else if (typeof option === 'boolean') {\n        useCapture = option;\n      }\n\n      target.addEventListener(eventType, wrapCallback, option || false);\n\n      return {\n        v: {\n          remove: function remove() {\n            target.removeEventListener(eventType, wrapCallback, useCapture);\n          }\n        }\n      };\n    })();\n\n    if (typeof _ret === 'object') return _ret.v;\n  } else if (target.attachEvent) {\n    target.attachEvent('on' + eventType, wrapCallback);\n    return {\n      remove: function remove() {\n        target.detachEvent('on' + eventType, wrapCallback);\n      }\n    };\n  }\n}\n\nmodule.exports = exports['default'];","\n\nfunction detect(userAgent) {\n  return function (regexps) {\n    return regexps.reduce(function (version, regexp) {\n      if (version === false) {\n        var matched = userAgent.match(regexp);\n        return matched ? matched[1] || true : version;\n      }\n      return version;\n    }, false);\n  };\n}\n\nfunction hasOwnProperty(object, propertyName) {\n  return Object.prototype.hasOwnProperty.call(object, propertyName);\n}\n\n// 横屏\nfunction landscape() {\n  if (screen.orientation && hasOwnProperty(window, 'onorientationchange')) {\n    return screen.orientation.type.includes('landscape');\n  }\n  return window.innerHeight < window.innerWidth;\n}\n\n// 竖屏\n// function portrait() {\n//   return !landscape();\n// }\n\nfunction walkOnChangeOrientationList(changeOrientationList, newOrientation) {\n  for (var i = 0, l = changeOrientationList.length; i < l; i++) {\n    changeOrientationList[i](newOrientation);\n  }\n}\n\nfunction handleOrientation(changeOrientationList, resetCache) {\n  return function () {\n    if (landscape()) {\n      walkOnChangeOrientationList(changeOrientationList, 'landscape');\n    } else {\n      walkOnChangeOrientationList(changeOrientationList, 'portrait');\n    }\n    resetCache();\n  };\n}\n\n/**\n * 四个层面 系统环境/浏览器环境/移动设备/软件环境\n * 系统：ios/android/macos/windows\n * 设备：phone/tablet/kindle/pc\n * 浏览器：主流浏览器 ie/chrome/firefox/opera/safari\n * 软件：wechat: ios/android\n *      alipay: ios/android\n */\n\nexport default (function () {\n  var previousWhatenvis = window.whatenvis;\n  var match = detect(navigator.userAgent.toLowerCase());\n  var is = {\n\n    // 系统检测\n    android: match([/android\\s([\\d.]+)/]),\n    macos: match([/\\(macintosh;\\sintel\\smac\\sos\\sx\\s([\\d_]+)/]),\n    windows: match([/windows\\snt\\s([\\d.]+)/]),\n    ios: match([/\\(i[^;]+;( U;)? CPU.+Mac OS X/]),\n\n    // 设备检测\n    // phone\n    ipad: match([/\\(ipad.*os\\s([\\d_]+)/]),\n    // ipod: match([/\\(ipod.*os\\s([\\d_]+)/]),\n    iphone: match([/iphone\\sos\\s([\\d_]+)/]),\n    windowsPhone: match([/windows\\sphone\\s([\\d.]+)/]),\n\n    // mobile 两边有空格\n    // 推测安卓平板一般有 mobile 的代表可以插 sim 卡,所以这样判断不准确\n    androidPhone: match([/android\\s([\\d.]+).*\\smobile\\s.*/]),\n\n    // pad\n    kindle: match([/kindle\\/([\\d.]+)/]),\n\n    // 浏览器检测及版本\n    ie: match([/* ie < 11 *//msie ([\\d.]+)/, /* ie11 *//rv:([\\d.]+)\\) like gecko/]),\n    edge: match([/edge\\/([\\d.]+)/]),\n    firefox: match([/firefox\\/([\\d.]+)/]),\n    opera: match([/(?:opera|opr).([\\d.]+)/]),\n    chrome: match([/chrome\\/([\\d.]+)/, /crios\\/([\\d.]+)/]),\n    chromeMobile: match([/crios\\/([\\d.]+)/]),\n    safari: match([/version\\/([\\d.]+).*safari/]),\n\n    // 软件环境\n    wechat: match([/micromessenger\\/([\\d.]+)/]),\n    alipay: match([/alipayclient\\/([\\d.]+)/])\n  };\n\n  // 小米浏览器兼容\n  // \"Mozilla/5.0 (Linux; U; Android 9; zh-cn; MIX 2S Build/PKQ1.180729.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/61.0.3163.128 Mobile Safari/537.36 XiaoMi/MiuiBrowser/10.2.2\"\n  var adm = match([/android\\s.*;\\s([^;]*)\\sbuild\\/.*/]);\n  var admTablet = adm && adm.match(/\\spad\\s/);\n  // const xiaomiPhone = xiaomi && !xiaomiTablet;\n\n  // 由于国产安卓阵营的信息比较乱,需要修正\n  is.androidPhone = is.androidPhone && !admTablet;\n\n  // chrome\n  is.chrome = !is.edge && is.chrome;\n\n  // 系统\n  // is.ios = is.ipad || is.iphone; // || is.ipod;\n  is.safari = !!(is.ios || is.macos || is.windows) && is.safari;\n\n  // pad\n  is.androidTablet = !is.androidPhone && !!is.android;\n  is.windowsTablet = match([/touch/]) && !is.windowsPhone && is.windows;\n\n  // 平台\n  is.phone = !!(is.iphone || is.androidPhone || is.windowsPhone);\n  is.tablet = !!(is.ipad || is.androidTablet || is.windowsTablet || match([/tablet/]));\n\n  // 浏览器\n  is.safariMobile = (is.ipad || is.iphone) && is.safari;\n\n  // 软件环境\n  is.iosWechat = is.ios && is.wechat;\n  is.androidWechat = is.android && is.wechat;\n  is.iosAlipay = is.ios && is.alipay;\n  is.androidAlipay = is.android && is.alipay;\n\n  // pc\n  is.pc = !is.phone && !is.tablet && !is.kindle;\n\n  // 移动端\n  if (is.tablet || is.phone) {\n    is.landscape = landscape();\n    is.portrait = !is.landscape;\n\n    var changeOrientationList = [];\n    is.onChangeOrientation = function (cb) {\n      if (typeof cb === 'function') {\n        changeOrientationList.push(cb);\n      }\n    };\n\n    var orientationEvent = 'resize';\n    if (hasOwnProperty(window, 'onorientationchange')) {\n      orientationEvent = 'orientationchange';\n    }\n\n    // Listen for changes in orientation.\n    if (window.addEventListener) {\n      window.addEventListener(orientationEvent, handleOrientation(changeOrientationList, function () {\n        is.landscape = landscape();\n        is.portrait = !is.landscape;\n      }), false);\n    }\n  }\n\n  is.noConflict = function () {\n    window.whatenvis = previousWhatenvis;\n    return is;\n  };\n\n  window.whatenvis = is;\n  return is;\n})();","let lastTime = 0;\nlet vendors = [\"ms\", \"moz\", \"webkit\", \"o\"];\nlet raf = window.requestAnimationFrame;\nlet caf = window.cancelAnimationFrame;\nfor (let x = 0; x < vendors.length && !raf; ++x) {\n  raf = window[vendors[x] + \"RequestAnimationFrame\"];\n  caf =\n    window[vendors[x] + \"CancelAnimationFrame\"] ||\n    window[vendors[x] + \"CancelRequestAnimationFrame\"];\n}\nif (!raf) {\n  raf = function(callback) {\n    let currTime = new Date().getTime();\n    let timeToCall = Math.max(0, 16 - (currTime - lastTime));\n    let id = window.setTimeout(function() {\n      callback(currTime + timeToCall);\n    }, timeToCall);\n    lastTime = currTime + timeToCall;\n    return id;\n  };\n}\nif (!caf) {\n  caf = function(id) {\n    clearTimeout(id);\n  };\n}\n\nexport const requestAnimationFrame = raf;\nexport const cancelAnimationFrame = caf;\nexport function getOffset(node) {\n  const box = node.getBoundingClientRect();\n  const docElem = document.documentElement;\n  // < ie8 不支持 win.pageXOffset, 则使用 docElem.scrollLeft\n  return {\n    left:\n      box.left +\n      (window.pageXOffset || docElem.scrollLeft) -\n      (docElem.clientLeft || document.body.clientLeft || 0),\n    top:\n      box.top +\n      (window.pageYOffset || docElem.scrollTop) -\n      (docElem.clientTop || document.body.clientTop || 0)\n  };\n}\n","const DEFAULT_OPTIONS = {\n  // 3 x 3 宫格\n  arraySize: 3,\n  // 画布宽高\n  sideLength: 300,\n  onStateChange: () => {},\n  onChange: () => {},\n  onEnd: () => {},\n  // 外圈半径\n  circleRadius: 0,\n  // 中心点半径\n  pointRadius: 0,\n  // 线的粗细\n  lineWidth: 3,\n  // 状态对应颜色\n  stateColors: {\n    normal: \"#afafaf\",\n    selected: \"#ffffff\",\n    checking: \"#ffffff\",\n    success: \"#2CFF26\",\n    error: \"#de462d\"\n  }\n};\n\nexport default DEFAULT_OPTIONS;\n","import addEventListener from \"add-dom-event-listener\";\nimport env from \"whatenvis\";\nimport {\n  requestAnimationFrame,\n  cancelAnimationFrame,\n  getOffset\n} from \"./utils\";\nimport DEFAULT_OPTIONS from \"./options\";\n\nfunction Gesture(el, options) {\n  this.wrapper = typeof el === \"string\" ? document.querySelector(el) : el;\n  if (!this.wrapper) {\n    console.warn(\"Can not resolve the wrapper DOM.\");\n  }\n  this._init(options);\n}\n\nGesture.prototype._init = function(options) {\n  this.mouseDownEvent = null;\n  this.mouseMoveEvent = null;\n  this.mouseUpEvent = null;\n\n  this.touchCancel = null;\n  this.touchEnd = null;\n  this.touchMove = null;\n  this.touchStart = null;\n\n  // 宫格状态\n  this.state = \"normal\";\n  // dpr\n  this.devicePixelRatio = window.devicePixelRatio || 1;\n  this.hitPointId = null;\n  // 所有点信息\n  // 每个点中记录一下当前状态信息和动画目标状态信息,动画进程,开始/停止状态\n  // ease函数,周期记录到公共集合\n  this.totalPoints = [];\n  // 选中的点\n  this.hitPoints = [];\n  // 触摸点\n  this.touchPoint = null;\n  // options\n  this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n\n  // 初始化按键大小\n  if (this.options.circleRadius === 0) {\n    // 按键整列大小\n    const { arraySize, sideLength } = this.options;\n    // 13等分 三个圆圈3等分加上4个间距 n * 3 + 4\n    // 其实间距的个数等于圆圈个数加1  n + 1, 再加上圆圈就等于 n * 3 + n + 1\n    const circleRadius =\n      (sideLength * this.devicePixelRatio) / (1 + 4 * arraySize);\n    this.options.circleRadius = circleRadius;\n    this.options.pointRadius = circleRadius / 3;\n  }\n\n  this._initCanvas();\n  this._initKey();\n  this._draw();\n  this._initMouseEvent();\n};\n\nGesture.prototype._initCanvas = function() {\n  const canvas = document.createElement(\"canvas\");\n  const { sideLength } = this.options;\n  canvas.width = this.devicePixelRatio * sideLength;\n  canvas.height = this.devicePixelRatio * sideLength;\n  canvas.style.width = sideLength + \"px\";\n  canvas.style.height = sideLength + \"px\";\n  canvas.style.backgroundColor = \"transparent\";\n  // canvas\n  this.canvas = canvas;\n  // canvas 上下文\n  this.context = canvas.getContext(\"2d\");\n  this.wrapper.appendChild(canvas);\n};\n\nGesture.prototype._initKey = function() {\n  let count = 0;\n  const n = this.options.arraySize;\n  const r = this.options.circleRadius;\n  for (let i = 0; i < n; i++) {\n    for (let j = 0; j < n; j++) {\n      count++;\n      const obj = {\n        x: j * 4 * r + 2.5 * r,\n        y: i * 4 * r + 2.5 * r,\n        index: count,\n        row: i + 1,\n        col: j + 1\n      };\n      this.totalPoints.push(obj);\n    }\n  }\n};\n\nGesture.prototype._draw = function() {\n  this._clearCanvas();\n  const { stateColors } = this.options;\n  const { context, state, totalPoints, touchPoint, hitPoints } = this;\n  this._drawLine(\n    context,\n    touchPoint ? [...hitPoints, touchPoint] : hitPoints,\n    stateColors[state]\n  );\n  totalPoints.forEach(point => {\n    const isHited = hitPoints.includes(point);\n    this._drawKey(\n      context,\n      point.x,\n      point.y,\n      isHited,\n      isHited ? stateColors[state] : stateColors.normal\n    );\n  });\n};\n\nGesture.prototype._drawLine = function(ctx, points, color) {\n  if (points.length > 1) {\n    ctx.strokeStyle = color;\n    ctx.lineWidth = 5;\n    ctx.beginPath();\n    ctx.moveTo(points[0].x, points[0].y);\n    points.forEach(point => ctx.lineTo(point.x, point.y));\n    ctx.stroke();\n  }\n};\n\nGesture.prototype._drawKey = function(ctx, x, y, havePoint, color) {\n  const { circleRadius, pointRadius, lineWidth } = this.options;\n  ctx.fillStyle = color;\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  // 画外圈\n  ctx.beginPath();\n  ctx.arc(x, y, circleRadius, 0, Math.PI * 2, true);\n  ctx.closePath();\n  ctx.stroke();\n  // 画原点\n  if (havePoint) {\n    ctx.lineWidth = 0;\n    ctx.beginPath();\n    ctx.arc(x, y, pointRadius, 0, Math.PI * 2, true);\n    ctx.fill();\n  }\n};\n\nGesture.prototype._clearCanvas = function() {\n  this.context.clearRect(\n    0,\n    0,\n    this.context.canvas.width,\n    this.context.canvas.height\n  );\n};\n\nGesture.prototype._initMouseEvent = function() {\n  if (env.pc) {\n    this.mouseDownEvent = addEventListener(\n      this.canvas,\n      \"mousedown\",\n      downEvent => {\n        this._handleTouchStart(\n          Object.assign(downEvent, {\n            touches: [{ clientX: downEvent.pageX, clientY: downEvent.pageY }]\n          })\n        );\n        this.mouseMoveEvent = addEventListener(\n          document,\n          \"mousemove\",\n          moveEvent => {\n            this._handleTouchMove(\n              Object.assign(moveEvent, {\n                touches: [\n                  { clientX: moveEvent.pageX, clientY: moveEvent.pageY }\n                ]\n              })\n            );\n          }\n        );\n        this.mouseUpEvent = addEventListener(document, \"mouseup\", upEvent => {\n          this._handleTouchCancel(upEvent);\n          this.mouseUpEvent.remove();\n          this.mouseMoveEvent.remove();\n        });\n      }\n    );\n  } else {\n    this.touchCancel = addEventListener(this.canvas, \"touchcanel\", event =>\n      this._handleTouchCancel(event)\n    );\n    this.touchEnd = addEventListener(this.canvas, \"touchend\", event =>\n      this._handleTouchCancel(event)\n    );\n    this.touchMove = addEventListener(this.canvas, \"touchmove\", event =>\n      this._handleTouchMove(event)\n    );\n    this.touchStart = addEventListener(this.canvas, \"touchstart\", event =>\n      this._handleTouchStart(event)\n    );\n  }\n};\n\nGesture.prototype._handleTouchStart = function(event) {\n  event.stopPropagation();\n  event.preventDefault();\n  // normal => selected, ( success | error ) !=> selected\n  if (this.state === \"normal\") {\n    this.state = \"selected\";\n  }\n  if (this.state === \"normal\") {\n    this.options.onStateChange(\"selected\");\n  }\n  this._handleHitPoint(event);\n};\n\nGesture.prototype._handleTouchMove = function(event) {\n  event.stopPropagation();\n  event.preventDefault();\n  this._handleHitPoint(event);\n};\n\nGesture.prototype._handleTouchCancel = function(event) {\n  event.stopPropagation();\n  event.preventDefault();\n  // 只是一个推荐值, 外部可以设置为 success error normal 之一\n  if (this.state === \"selected\") {\n    if (!this.state) {\n      this.state = \"normal\";\n    }\n    this.options.onStateChange(\"normal\");\n    this._handleHitOver();\n  }\n};\n\nGesture.prototype._handleHitOver = function() {\n  requestAnimationFrame(() => {\n    const { hitPoints } = this;\n    this.options.onEnd(hitPoints.map(({ index }) => index));\n    this.touchPoint = null;\n    this._draw();\n  });\n};\n\nGesture.prototype._handleHitPoint = function(event) {\n  const { touches } = event;\n  if (this.hitPointId === null) {\n    this.hitPointId = requestAnimationFrame(() => {\n      this.hitPointId = null;\n      const { devicePixelRatio, state } = this;\n      if (state === \"selected\") {\n        const { left, top } = getOffset(this.canvas);\n        if (touches.length > 0) {\n          const touch = touches[0];\n          this.touchPoint = {\n            x: (touch.clientX - left) * devicePixelRatio,\n            y: (touch.clientY - top) * devicePixelRatio\n          };\n          this._updateKeyboard();\n        }\n      }\n    });\n  }\n};\n\nGesture.prototype._updateKeyboard = function() {\n  this._updateKey();\n  this._updateLine();\n};\n\nGesture.prototype._updateKey = function() {\n  const { hitPoints, touchPoint, circleRadius } = this;\n  const hitPoint = this._findHitPoint(touchPoint);\n  if (hitPoint && !hitPoints.includes(hitPoint)) {\n    if (hitPoints.length > 0) {\n      const lastPoint = hitPoints[hitPoints.length - 1];\n      const nearPoints = this._findNearPoints(lastPoint);\n      const crossoverPoints = this._findCrossover(\n        touchPoint,\n        lastPoint,\n        nearPoints,\n        circleRadius\n      );\n      if (crossoverPoints && !hitPoints.includes(crossoverPoints)) {\n        crossoverPoints.forEach(this._addHitPoint);\n      }\n    }\n    this._addHitPoint(hitPoint);\n    this._draw();\n  }\n};\n\nGesture.prototype._updateLine = function() {\n  this._draw();\n};\n\nGesture.prototype._addHitPoint = function(point) {\n  const { hitPoints } = this;\n  hitPoints.push(point);\n  this.options.onChange(hitPoints.map(({ index }) => index));\n};\n\nGesture.prototype._findHitPoint = function(touchPoint) {\n  const { circleRadius } = this.options;\n  return this.totalPoints.find(point => {\n    return (\n      (point.x - touchPoint.x) ** 2 + (point.y - touchPoint.y) ** 2 <=\n      circleRadius ** 2\n    );\n  });\n};\n\nGesture.prototype._findNearPoints = function(lastPoint) {\n  const { totalPoints, hitPoints } = this;\n  return totalPoints.filter(point => {\n    return (\n      !hitPoints.includes(point) &&\n      Math.abs(point.row - lastPoint.row) <= 1 &&\n      Math.abs(point.col - lastPoint.col) <= 1\n    );\n  });\n};\n\n// 找出与线相交的最近的点\nGesture.prototype._findCrossover = function(\n  touchPoint,\n  lastPoint,\n  nearCenters,\n  radius\n) {\n  if (nearCenters.length > 0) {\n    // 找出与手指最近的相邻点\n    const nearestCenter = nearCenters.reduce((nearestCenter, circleCenter) => {\n      const centerLast =\n        (touchPoint.x - circleCenter.x) ** 2 +\n        (touchPoint.y - circleCenter.y) ** 2;\n      if (nearestCenter) {\n        return centerLast < nearestCenter.distance\n          ? {\n              circleCenter,\n              distance: centerLast\n            }\n          : nearestCenter;\n      }\n      return {\n        circleCenter,\n        distance: centerLast\n      };\n    }, null);\n\n    const { circleCenter } = nearestCenter;\n    const s1 =\n      (lastPoint.x - circleCenter.x) ** 2 + (lastPoint.y - circleCenter.y) ** 2;\n    const s2 =\n      (lastPoint.x - touchPoint.x) ** 2 + (lastPoint.y - touchPoint.y) ** 2;\n    const s3 =\n      (circleCenter.x - touchPoint.x) ** 2 +\n      (circleCenter.y - touchPoint.y) ** 2;\n\n    // 计算切线的长度平方\n    const tangent = s1 - radius ** 2;\n    // 长度超过切线并且方向在圆心那边\n    if (s2 > tangent && s2 > s3) {\n      // 计算线点相交\n      // 余弦定理求出余弦转换成正弦然后求得圆心点到线的距离的平方和半径平方对比大小\n      // 大则是没有相交,小则是已经相交\n      const h2 =\n        (1 - ((s1 + s3 - s2) / (2 * Math.sqrt(s1) * Math.sqrt(s3))) ** 2) * s1;\n      return h2 <= radius ** 2 ? [circleCenter] : [];\n    }\n  }\n  return [];\n};\n\nGesture.prototype.changeState = function(v) {\n  this.state = v;\n  this._draw();\n};\n\nGesture.prototype.reset = function() {\n  this.hitPoints = [];\n  this.state = \"normal\";\n  this._draw();\n};\n\nGesture.version = \"1.0.0\";\nexport default Gesture;\n","import Gesture from \"./index\";\n\n\nconst g = new Gesture(document.getElementById(\"app\"), {\n  onStateChange: (v) => {console.log(\"onStateChange\", v)},\n  onChange: (v) => {console.log(\"onChange\", v)},\n  onEnd: (v) => {\n    setTimeout(() => g.changeState('success'), 1000)\n    setTimeout(() => g.reset(), 2000)\n  },\n});\n"]}